import{u as p,r as l,c,a as s,b as x,w as m,v as b,d as g,e as k,t as y,f as v,g as w,h,o as d}from"./index-CERIRcW2.js";import{s as _}from"./index-BdTjmT_3.js";import"./index-CUPv0TyI.js";const L={class:"min-h-screen flex items-center justify-center bg-surface-50 dark:bg-surface-950 px-4"},U={class:"max-w-md w-full bg-white dark:bg-surface-900 rounded-2xl shadow-xl p-8 text-center border border-surface-200 dark:border-surface-800"},V={class:"space-y-4"},B={class:"p-4 bg-surface-50 dark:bg-surface-800 rounded-xl border border-surface-100 dark:border-surface-700 text-left"},N={class:"flex flex-col gap-3"},S=["disabled"],T={key:0,class:"pi pi-spin pi-spinner"},I={__name:"LicenseExpired",setup(j){const n=h(),i=p(),r=l(""),t=l(!1),u=async()=>{var o,e;t.value=!0;try{await w.post("/license/update",{license_key:r.value}),i.add({severity:"success",summary:"Success",detail:"License updated successfully. Refreshing...",life:3e3}),setTimeout(()=>{window.location.href="/"},2e3)}catch(a){console.error("Update failed:",a),i.add({severity:"error",summary:"Error",detail:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.message)||"Failed to update license key.",life:3e3})}finally{t.value=!1}},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login")};return(o,e)=>(d(),c("div",L,[s("div",U,[e[2]||(e[2]=s("div",{class:"w-20 h-20 bg-red-100 dark:bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6"},[s("i",{class:"pi pi-lock text-red-600 dark:text-red-400 text-3xl"})],-1)),e[3]||(e[3]=s("h1",{class:"text-2xl font-bold text-surface-900 dark:text-surface-0 mb-2"},"Application Locked",-1)),e[4]||(e[4]=s("p",{class:"text-surface-500 dark:text-surface-400 mb-8"}," Your application license has expired or is invalid. Please contact your administrator to renew your license. ",-1)),s("div",V,[s("div",B,[e[1]||(e[1]=s("label",{class:"text-xs font-semibold text-surface-500 dark:text-surface-400 uppercase tracking-wider mb-2 block"}," Update License Key ",-1)),s("div",N,[m(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),rows:"4",class:"w-full p-3 text-sm rounded-lg border border-surface-200 dark:border-surface-700 bg-white dark:bg-surface-900 text-surface-900 dark:text-surface-0 focus:ring-2 focus:ring-primary-500 outline-none transition-all",placeholder:"Paste your new license key here..."},null,512),[[b,r.value]]),s("button",{onClick:u,disabled:t.value||!r.value,class:"w-full py-2.5 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2"},[t.value?(d(),c("i",T)):g("",!0),k(" "+y(t.value?"Updating...":"Update License"),1)],8,S)])]),s("button",{onClick:f,class:"text-sm text-surface-500 hover:text-surface-700 dark:hover:text-surface-300 transition-colors"}," Back to Login ")])]),x(v(_))]))}};export{I as default};
